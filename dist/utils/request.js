"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var index_1 = require("../config/index");
var methods = ['get', 'post', 'put', 'delete'];
var Request = {};
methods.forEach(function (item) {
    Request[item] = function (url, data, options) {
        return new Promise(function (resolve, reject) {
            var _url = /^http[s]?:\/\/|^\/\//.test(url) ? url : "" + index_1.BASEHONST + url;
            var _options = {};
            if (options) {
                _options = Object.assign(_options, options);
            }
            data = {
                apikey: index_1.APIKEY
            };
            var requestOptions = Object.assign({
                url: _url,
                method: item || 'GET',
                data: data,
                success: function (res) {
                    resolve(res);
                },
                fail: function (e) {
                    reject(e);
                }
            }, _options);
            wx.request(requestOptions);
        });
    };
});
exports.default = Request;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzL3JlcXVlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSx5Q0FBbUQ7QUFFbkQsSUFBTSxPQUFPLEdBQUcsQ0FBQyxLQUFLLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxRQUFRLENBQUMsQ0FBQTtBQUVoRCxJQUFJLE9BQU8sR0FBUSxFQUFFLENBQUE7QUFFckIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxVQUFBLElBQUk7SUFDbEIsT0FBTyxDQUFDLElBQUksQ0FBQyxHQUFHLFVBQ2QsR0FBVyxFQUNYLElBQW9DLEVBQ3BDLE9BQTBCO1FBRzFCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTTtZQUNqQyxJQUFNLElBQUksR0FBRyxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBRyxpQkFBUyxHQUFHLEdBQUssQ0FBQTtZQUUxRSxJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUE7WUFFakIsSUFBSSxPQUFPLEVBQUU7Z0JBQ1gsUUFBUSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFBO2FBQzVDO1lBRUQsSUFBSSxHQUFHO2dCQUNMLE1BQU0sRUFBRSxjQUFNO2FBQ2YsQ0FBQTtZQUVELElBQU0sY0FBYyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQ2xDO2dCQUNFLEdBQUcsRUFBRSxJQUFJO2dCQUNULE1BQU0sRUFBRSxJQUFJLElBQUksS0FBSztnQkFDckIsSUFBSSxNQUFBO2dCQUNKLE9BQU8sRUFBUCxVQUFRLEdBQW9DO29CQVUxQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUE7Z0JBQ2QsQ0FBQztnQkFDRCxJQUFJLEVBQUosVUFBSyxDQUEyQjtvQkFDOUIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO2dCQUNYLENBQUM7YUFDRixFQUNELFFBQVEsQ0FDVyxDQUFBO1lBQ3JCLEVBQUUsQ0FBQyxPQUFPLENBQUMsY0FBYyxDQUFDLENBQUE7UUFDNUIsQ0FBQyxDQUFDLENBQUE7SUFDSixDQUFDLENBQUE7QUFDSCxDQUFDLENBQUMsQ0FBQTtBQUVGLGtCQUFlLE9BQU8sQ0FBQSIsImZpbGUiOiJ1dGlscy9yZXF1ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQkFTRUhPTlNULCBBUElLRVkgfSBmcm9tICcuLi9jb25maWcvaW5kZXgnXG5cbmNvbnN0IG1ldGhvZHMgPSBbJ2dldCcsICdwb3N0JywgJ3B1dCcsICdkZWxldGUnXVxuXG5sZXQgUmVxdWVzdDogYW55ID0ge31cblxubWV0aG9kcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICBSZXF1ZXN0W2l0ZW1dID0gKFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE/OiBzdHJpbmcgfCBvYmplY3QgfCBBcnJheUJ1ZmZlcixcbiAgICBvcHRpb25zPzogd3guUmVxdWVzdE9wdGlvblxuICApID0+IHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBfdXJsID0gL15odHRwW3NdPzpcXC9cXC98XlxcL1xcLy8udGVzdCh1cmwpID8gdXJsIDogYCR7QkFTRUhPTlNUfSR7dXJsfWBcblxuICAgICAgbGV0IF9vcHRpb25zID0ge31cblxuICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKF9vcHRpb25zLCBvcHRpb25zKVxuICAgICAgfVxuXG4gICAgICBkYXRhID0ge1xuICAgICAgICBhcGlrZXk6IEFQSUtFWVxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXF1ZXN0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICB1cmw6IF91cmwsXG4gICAgICAgICAgbWV0aG9kOiBpdGVtIHx8ICdHRVQnLFxuICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgc3VjY2VzcyhyZXM6IHd4LlJlcXVlc3RTdWNjZXNzQ2FsbGJhY2tSZXN1bHQpIHtcbiAgICAgICAgICAgIC8vIGlmIChyZXMuZGF0YS5jb2RlID09IDQwMSkge1xuICAgICAgICAgICAgLy8gICBsZXQgY3VycmVudFBhZ2UgPSBwYWdlc1twYWdlcy5sZW5ndGggLSAxXSAvLyDojrflj5blvZPliY3pobXpnaLnmoTlr7nosaFcbiAgICAgICAgICAgIC8vICAgaWYgKGN1cnJlbnRQYWdlLnJvdXRlICE9PSAncGFnZXMvbG9naW4vaW5kZXgnKSB7XG4gICAgICAgICAgICAvLyAgICAgLy8g5pyq55m76ZmGXG4gICAgICAgICAgICAvLyAgICAgd3gubmF2aWdhdGVUbyh7XG4gICAgICAgICAgICAvLyAgICAgICB1cmw6ICcuLi9sb2dpbi9pbmRleCdcbiAgICAgICAgICAgIC8vICAgICB9KVxuICAgICAgICAgICAgLy8gICB9XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICByZXNvbHZlKHJlcylcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZhaWwoZTogd3guR2VuZXJhbENhbGxiYWNrUmVzdWx0KSB7XG4gICAgICAgICAgICByZWplY3QoZSlcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIF9vcHRpb25zXG4gICAgICApIGFzIHd4LlJlcXVlc3RPcHRpb25cbiAgICAgIHd4LnJlcXVlc3QocmVxdWVzdE9wdGlvbnMpXG4gICAgfSlcbiAgfVxufSlcblxuZXhwb3J0IGRlZmF1bHQgUmVxdWVzdFxuIl19
